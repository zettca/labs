(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),i=n.n(r),c=(n(14),n(2)),s=n(3),l=n(5),u=n(4),d=n(6),f=n(1),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function g(e){return e>9?e:"0"+e}function v(e){var t=e||new Date;return[t.getHours(),t.getMinutes()].map(g).join(":")}function w(e){var t=e||new Date;return"".concat(t.getDate()," ").concat(h[t.getMonth()].slice(0,3))}var y=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.day,n=e.data;if(!n)return null;var a=n.events,r=v(),i=[],c=null;return a.forEach(function(e){e.course.acronym=e.course.acronym.replace(/[0-9]/g,""),e.weekday===m[t].slice(0,3)&&(r<e.start||m[t]!==m[(new Date).getDay()]?i.push(e):r>=e.start&&r<=e.end&&(i.push(e),c=e))}),i.sort(function(e,t){return e.start<t.start?-1:1}),o.a.createElement("div",null,o.a.createElement("h3",{className:c?"red":i.length?"blue":"green"},"Lab ",n.name),i.map(function(e,t){return o.a.createElement("span",{key:t},o.a.createElement("strong",null,e.start," \u2013 ",e.end)," ",e.course.acronym)}))}}]),t}(o.a.PureComponent),p=(n(17),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).nextDay=n.nextDay.bind(Object(f.a)(Object(f.a)(n))),n.state={date:w(),time:v(),dow:(new Date).getDay(),labs:[{id:2448131365220,data:null},{id:2448131365221,data:null},{id:2448131365222,data:null},{id:2448131365227,data:null},{id:2448131365229,data:null},{id:2448131365166,data:null}]},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.state.labs;t.forEach(function(n){fetch("https://web.tecnico.ulisboa.pt/~ist178013/labevents/?lab="+n.id).then(function(e){return e.json()}).then(function(a){n.data=a,e.setState({labs:t})})})}},{key:"nextDay",value:function(){var e=this.state.dow,t=new Date,n=(e>=5?0:e)+1;t.setDate(t.getDate()+(n-t.getDay())),this.setState({date:w(t),time:v(),dow:n})}},{key:"render",value:function(){var e=this.state,t=e.dow,n=e.date,a=e.time,r=e.labs;return o.a.createElement("main",null,o.a.createElement("header",{onClick:this.nextDay},o.a.createElement("h3",null,o.a.createElement("span",null,"".concat(m[t].slice(0,3),", ").concat(n)),o.a.createElement("span",{className:"right"},a))),o.a.createElement("section",{id:"infos"},r.map(function(e){return e.data&&o.a.createElement(y,{key:e.id,day:t,data:e.data})})))}}]),t}(o.a.Component)),b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(p,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(".","/service-worker.js");b?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):k(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):k(e)})}}()},9:function(e,t,n){e.exports=n(19)}},[[9,2,1]]]);
//# sourceMappingURL=main.a452d3f0.chunk.js.map